!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";const o={isDOM:function(t){return t instanceof HTMLElement},isNull:function(t){return null==t},isObject:function(t){return null!==t&&"object"==typeof t&&!o.isArray(t)},isFunction:function(t){return"function"==typeof t},isBool:function(t){return"boolean"==typeof t},isNumber:function(t){return"number"==typeof t},isInt:function(t){return"number"==typeof t&&t%1==0},isUint:function(t){return"number"==typeof t&&t>=0&&t%1==0},isString:function(t){return"string"==typeof t},isArray:function(t){return t instanceof Array},isTypedArray:function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array},isAnyArray:function(t){return o.isArray(t)||o.isTypedArray(t)},isColor:function(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor},isSize:function(t){var e=document.createElement("div");return e.style.width="",e.style.width=t,""!==e.style.width},isAlignment:function(t,e){return t=t.toLowerCase(),e?"left"===t||"right"===t:"left"===t||"center"===t||"right"===t},isCompositeOperation:function(t){return"source-over"===(t=t.toLowerCase())||"source-in"===t||"source-out"===t||"source-atop"===t||"destination-over"===t||"destination-in"===t||"destination-out"===t||"destination-atop"===t||"lighter"===t||"copy"===t||"xor"===t||"multiply"===t||"screen"===t||"overlay"===t||"darken"===t||"lighten"===t||"color-dodge"===t||"color-burn"===t||"hard-light"===t||"soft-light"===t||"difference"===t||"exclusion"===t||"hue"===t||"saturation"===t||"color"===t||"luminosity"===t},isBorderWidth:function(t){var e=document.createElement("div");return e.style.borderWidth="",e.style.borderWidth=t,""!==e.style.borderWidth},isBorderStyle:function(t){var e=document.createElement("div");return e.style.borderStyle="",e.style.borderStyle=t,""!==e.style.borderStyle},getCompareCallback:function(t){switch(t){case"number":return o.isNumber;case"int":return o.isInt;case"string":return o.isString;case"bool":return o.isBool;case"array":return o.isArray;case"typedArray":return o.isTypedArray;case"anyArray":return o.isAnyArray;case"object":return o.isObject;case"function":return o.isFunction;case"color":return o.isColor;case"size":return o.isSize;case"alignment":return o.isAlignment;case"compositeOperation":return o.isCompositeOperation;case"borderStyle":return o.isBorderStyle;case"borderWidth":return o.isBorderWidth;case"dom":return o.isDOM;default:throw new Error("Is.getCompareCallback: No compare typed found for: "+t)}},getCompareCallbacks:function(t){var e=[],i=t.split("|");if(!i.length)throw new Error("Is.getCompareCallbacks: types is empty.");for(var n=0;n<i.length;++n)e.push(o.getCompareCallback(i[n]));return e},isContent:function(t,e){for(var i=o.getCompareCallback(e),n=0;n<t.length;++n)if(!i(t[n]))return!1;return!0},isInOptions:function(t,e){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1}};e.a=o},function(t,e,i){"use strict";const o={createDummyData:function(t,e){let i=3;function o(){return i=1e4*Math.sin(i),i-Math.floor(i)}const n=[],s=new ArrayBuffer(4*t),a=new ArrayBuffer(4*t);if(e&&"int"===e.toLowerCase()){const e=new Uint32Array(s);for(let i=0;i<t;++i)e[i]=i+1;n.push(e)}else if(e&&"float"===e.toLowerCase()){const e=new Float32Array(s),i=new Float32Array(a),r=Math.PI/100;for(let n=0;n<t;++n)e[n]=Math.sin(n*r)*o(),i[n]=Math.cos(n*r)*o();n.push(e),n.push(i)}else console.warn("owp.graph WARNING: Can't create dummy data. Invalid type: \""+e+'"');return n},calculateSmothingValue:function(t,e,i){const n=o.getSmoothingWindow(t,e,i.length);let s=0;for(;n.low<=n.high;)s+=i[n.low++];return s/n.length},getSmoothingWindow:function(t,e,i){const o=Math.max(0,t),n=i-1-t,s=Math.min(o,n,e);return{low:t-s,high:t+s,length:2*s+1}},binarySearch:function(t,e,i){let o=0,n=e-1;for(;o<=n;){const e=Math.floor((o+n)/2);if(i<t(e))n=e-1;else{if(!(i>t(e)))return{found:e};o=e+1}}return o=Math.min(o,n),n=Math.max(o,n,0),i>t(n)?++n:i<t(o)&&--o,{min:Math.max(o,0),max:Math.min(n,e-1)}}},n=document.createElement("canvas").getContext("2d");o.getTextWidth=function(t,e){return e&&(n.font=e),n.measureText(t).width},o.round=function(t,e){if(e){const i=Math.pow(10,e);return Math.round(t*i)/i}return Math.round(t)},o.log10=t=>Math.log(t)/Math.LN10,e.a=o},function(module,__webpack_exports__,__webpack_require__){"use strict";var _Static__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_Is__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);function Options(t){this._isOk=!0,this._createMembers(),this.set(Options.getDefault()),t&&this.set(t)}Options.prototype.isOk=function(){return this._isOk},Options.prototype.getColor=function(t){return this.graph.colors[t]?this.graph.colors[t]:"#000000"},Options.prototype.getName=function(t){return void 0!==this.graph.names[t]?this.graph.names[t]:t>0?"DATA"+t:"X"},Options.prototype.getLegendFont=function(){return this.legend.size+"px "+this.legend.font},Options.getDefault=function(){return{debug:!1,interaction:{resize:!0,trackMouse:!0,zoom:!0,smoothing:!1},title:{label:"",bold:!1,size:20,offsetX:0,offsetY:0,padding:5,font:"verdana",color:"black",align:"center"},legend:{location:"top",font:"Arial",size:15,offsetX:10,offsetY:2,align:"right",newLine:!1},graph:{dataX:[],dataY:[],colors:["#000000","#0000FF","#FF0000","#800080","#00FF00","#8080FF","#FF8080","#FF00FF","#00FFFF"],names:[],lineWidth:1,smoothing:0,simplify:.1,fill:!1,compositeOperation:"source-over"},axes:{tickMarkers:{show:!0,length:5,width:1,offset:0,color:"#BEBEBE"},tickLabels:{show:!0,color:"black",font:"Arial",size:12,width:40,offset:2},labels:{color:"black",font:"verdana",size:15,offset:3,padding:0},x:{show:!0,inverted:!1,log:!1,height:0,label:"",legendValueFormatter:null,tickerValuePreFormatter:null,tickerValuePostFormatter:null,tickerLabelFormatter:null,ticker:null,grid:{width:1,color:"#BEBEBE"},bounds:{min:null,max:null}},y:{show:!0,inverted:!1,log:!1,width:0,label:"",legendValueFormatter:null,tickerValuePreFormatter:null,tickerValuePostFormatter:null,tickerLabelFormatter:null,ticker:null,grid:{width:1,color:"#BEBEBE"},bounds:{min:null,max:null}}},border:{style:"solid",color:"black",width:"0 0 1px 1px"},spinner:{show:!0,lines:13,length:30,width:10,radius:30,corners:1,rotate:0,direction:1,color:"black",speed:1,trail:50,shadow:!1,hwaccel:!0,position:"relative",top:"50%",left:"50%"}}},Options.prototype.set=function(t){!function t(e,i,o){for(let n in i)Array.isArray(e)||Object.prototype.hasOwnProperty.call(e,n)?_Is__WEBPACK_IMPORTED_MODULE_1__.a.isObject(i[n])?t(e[n],i[n],o+(o.length?".":"")+n):e[n]=i[n]:console.warn("owp.graph WARNING: Can't set unexisting option: "+o+(o.length?"."+n:n))}(this,t,""),this._evalOptions()},Options.prototype.getDataCallback=function(t,e,i){let o;if("x"===t.toLowerCase()){if(0===this.graph.dataX.length)return function(t){return t+1};o=1===this.graph.dataX.length?this.graph.dataX[0]:this.graph.dataX[e]}else if("y"===t.toLowerCase()){if(o=this.graph.dataY[e],this.graph.smoothing)return this._getDataCallbackSmoothing(i,o)}else console.error("owp.graph ERROR: Unknown axis: "+t);return function(t){return o[t]}},Options.prototype._getDataCallbackSmoothing=function(t,e){const i=Math.max(0,t-1),o=_Static__WEBPACK_IMPORTED_MODULE_0__.a.getSmoothingWindow(i,this.graph.smoothing,e.length);let n=o.low,s=o.high,a=0;for(let t=n;t<=s;++t)a+=e[t];const r=2*this.graph.smoothing;return function(t){if(s===e.length-1){n=t+t-s,a=0;for(let t=n;t<=s;++t)a+=e[t]}else if(s<r){s=t+t-n,a=0;for(let t=n;t<=s;++t)a+=e[t]}else a-=e[n],++n,++s,a+=e[s];return a/(s-n+1)}},Options.prototype._evalOptions=function(){var optionsOk=!0,obj,obj2,name,name2,options=this;function set(t){name=t,obj=options;for(var e=t.split("."),i=0;i<e.length;++i)obj=obj[e[i]]}function set2(t){name2=t,obj2=options;for(var e=t.split("."),i=0;i<e.length;++i)obj2=obj2[e[i]]}function error(t){console.error("owp.graph ERROR: invalid option. "+name+": "+t),optionsOk=!1}function evalObject(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isObject(obj);return t||error('"'+obj+'" is not an object.'),t}function evalBool(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isBool(obj);return t||error('"'+obj+'" is not a bool.'),t}function evalNumber(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNumber(obj);return t||error('"'+obj+'" is not a number.'),t}function evalInt(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isInt(obj);return t||error('"'+obj+'" is not an integer.'),t}function evalString(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isString(obj);return t||error('"'+obj+'" is not a string.'),t}function evalArray(){_Is__WEBPACK_IMPORTED_MODULE_1__.a.isArray(obj);return!0,!0}function evalFunction(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isFunction(obj);return t||error('"'+obj+'" is not a function.'),t}function evalAlign(t){var e=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isAlignment(obj,t);return e||error('"'+obj+'" is not an valid alignment.'),e}function evalColor(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isColor(obj);return t||error('"'+obj+'" is not a valid color.'),t}function evalFont(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isString(obj);return t||error('"'+obj+'" is not a valid font.'),t}function evalSize(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isSize(obj);return t||error('"'+obj+'" is not a valid size.'),t}function evalBorderStyle(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isBorderStyle(obj);return t||error('"'+obj+'" is not a valid border style.'),t}function evalBorderWidth(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isBorderWidth(obj);return t||error('"'+obj+'" is not a valid border width.'),t}function evalCompositeOperation(){var t=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isCompositeOperation(obj);return t||error('"'+obj+'" is not a composite operation.'),t}function evalArrayContains(t){var e=_Is__WEBPACK_IMPORTED_MODULE_1__.a.isContent(obj,t);return e||error('"['+obj+']" contains object type other than: '+t+"."),e}function evalCond(cond){var res=eval(cond);return res||(cond=cond.replaceAll("obj2",name2).trim(),cond=cond.replaceAll("obj.","").trim(),cond=cond.replaceAll("obj","").trim(),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isArray(obj)?error("Failed condition: "+cond):error('"'+obj+'" failed condition: '+cond)),res}if(set("debug"),evalBool(),set("interaction"),evalObject()&&(set("interaction.resize"),evalBool(),set("interaction.trackMouse"),evalBool(),set("interaction.zoom"),evalBool(),set("interaction.smoothing"),evalBool()),set("title"),evalObject()&&(set("title.bold"),evalBool(),set("title.label"),evalString(),set("title.size"),evalInt(),evalCond("obj > 0"),set("title.offsetX"),evalInt(),set("title.offsetY"),evalInt(),set("title.padding"),evalInt(),set("title.font"),evalFont(),set("title.color"),evalColor(),set("title.align"),evalAlign()),set("legend"),evalObject()&&(set("legend.location"),evalString(),set("legend.font"),evalFont(),set("legend.size"),evalInt()&&evalCond("obj > 0"),set("legend.offsetX"),evalInt()&&evalCond("obj >= 0"),set("legend.offsetY"),evalInt()&&evalCond("obj >= 0"),set("legend.align"),evalAlign(!0),set("legend.newLine"),evalBool()),set("graph"),evalObject()){if(set("graph.dataX"),evalArray()&&(evalArrayContains("anyArray"),set2("graph.dataY"),evalCond("obj.length === 0 || obj.length === 1 || obj.length === obj2.length")&&evalCond("obj.length <= obj2.length")),set("graph.dataY"),evalArray())if(evalArrayContains("anyArray"),set2("graph.dataX"),0===obj2.length||1===obj2.length){for(let t=0;t<obj.length;++t)obj[t].length!==obj[0].length&&error("Not all arrays are of the same size.");1!==obj2.length||obj.length&&obj2[0].length===obj[0].length||error("Size does not match dataX.")}else if(obj.length===obj2.length)for(let t=0;t<obj.length;++t)obj[t].length!==obj2[t].length&&error("dataY["+t+"].length != dataX["+t+"].length");set("graph.colors"),evalArray()&&evalArrayContains("color"),set("graph.names"),evalArray()&&evalArrayContains("string"),set("graph.lineWidth"),evalNumber()&&evalCond("obj >= 0"),set("graph.smoothing"),evalInt()&&evalCond("obj >= 0"),set("graph.simplify"),evalNumber()&&evalCond("obj >= 0 && obj <= 1"),set("graph.fill"),evalBool(),set("graph.compositeOperation"),evalCompositeOperation()}if(set("axes"),evalObject()){set("axes.tickMarkers"),evalObject()&&(set("axes.tickMarkers.show"),evalBool(),set("axes.tickMarkers.length"),evalInt()&&evalCond("obj > 0"),set("axes.tickMarkers.width"),evalInt()&&evalCond("obj > 0"),set("axes.tickMarkers.offset"),evalInt()&&evalCond("obj >= 0"),set("axes.tickMarkers.color"),evalColor()),set("axes.tickLabels"),evalObject()&&(set("axes.tickLabels.show"),evalBool(),set("axes.tickLabels.color"),evalColor(),set("axes.tickLabels.font"),evalFont(),set("axes.tickLabels.size"),evalInt()&&evalCond("obj > 0"),set("axes.tickLabels.width"),evalInt()&&evalCond("obj > 0"),set("axes.tickLabels.offset"),evalInt()&&evalCond("obj >= 0")),set("axes.labels"),evalObject()&&(set("axes.labels.color"),evalColor(),set("axes.labels.font"),evalFont(),set("axes.labels.size"),evalInt()&&evalCond("obj > 0"),set("axes.labels.offset"),evalInt(),set("axes.labels.padding"),evalInt()&&evalCond("obj >= 0"));for(var axes=["axes.x","axes.y"],i=0;i<axes.length;++i)set(axes[i]),evalObject()&&(set(axes[i]+".show"),evalBool(),set(axes[i]+".inverted"),evalBool(),set(axes[i]+".log"),evalBool(),set(axes[i]+"."+("axes.x"===axes[i]?"height":"width")),evalInt(),evalCond("obj >= 0"),set(axes[i]+".grid"),evalObject()&&(set(axes[i]+".grid.width"),evalInt(),evalCond("obj >= 0"),set(axes[i]+".grid.color"),evalColor()),set(axes[i]+".label"),evalString(),set(axes[i]+".bounds"),evalObject()&&(set(axes[i]+".bounds.min"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||(evalNumber(),set2(axes[i]+".log"),obj2&&obj<=0&&error('"['+obj+']" When axis is logarithmic all bounds must be greather than 0.')),set(axes[i]+".bounds.max"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||(evalNumber(),set2(axes[i]+".log"),obj2&&obj<=0&&error('"['+obj+']" When axis is logarithmic all bounds must be greather than 0.')),set(axes[i]+".bounds.min"),set2(axes[i]+".bounds.max"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj2)||evalCond("obj < obj2")),set(axes[i]+".legendValueFormatter"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||evalFunction(),set(axes[i]+".tickerValuePreFormatter"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||evalFunction(),set(axes[i]+".tickerValuePostFormatter"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||evalFunction(),set(axes[i]+".tickerLabelFormatter"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||evalFunction(),set(axes[i]+".ticker"),_Is__WEBPACK_IMPORTED_MODULE_1__.a.isNull(obj)||evalFunction())}set("border"),evalObject()&&(set("border.style"),evalBorderStyle(),set("border.color"),evalColor(),set("border.width"),evalBorderWidth()),set("spinner"),evalObject()&&(set("spinner.show"),evalBool(),set("spinner.lines"),evalInt()&&evalCond("obj > 0"),set("spinner.length"),evalInt()&&evalCond("obj > 0"),set("spinner.width"),evalInt()&&evalCond("obj > 0"),set("spinner.radius"),evalInt()&&evalCond("obj > 0"),set("spinner.corners"),evalNumber()&&evalCond("obj >= 0 && obj <= 1"),set("spinner.rotate"),evalInt()&&evalCond("obj >= 0"),set("spinner.direction"),evalInt()&&evalCond("obj === -1 || obj === 1"),set("spinner.color"),evalColor(),set("spinner.speed"),evalNumber()&&evalCond("obj > 0"),set("spinner.trail"),evalInt()&&evalCond("obj >= 0"),set("spinner.shadow"),evalBool(),set("spinner.hwaccel"),evalBool(),set("spinner.position"),evalString()&&evalCond("obj === 'relative' || obj === 'absolute'"),set("spinner.top"),evalSize(),set("spinner.left"),evalSize()),this._isOk=optionsOk},Options.prototype._createMembers=function(){this.debug=null,this.interaction={resize:null,trackMouse:null,zoom:null,smoothing:null},this.title={show:null,bold:null,label:null,size:null,offsetX:null,offsetY:null,padding:null,font:null,color:null,align:null},this.legend={location:null,font:null,size:null,offsetX:null,offsetY:null,align:null,newLine:null},this.graph={dataX:null,dataY:null,colors:null,names:null,lineWidth:null,smoothing:null,simplify:null,fill:null,compositeOperation:null},this.axes={tickMarkers:{show:null,length:null,width:null,offset:null,color:null},tickLabels:{show:null,color:null,font:null,size:null,width:null,offset:null},labels:{show:null,color:null,font:null,size:null,offset:null,padding:null},x:{show:null,inverted:null,log:null,height:null,label:null,legendValueFormatter:null,tickerValuePreFormatter:null,tickerValuePostFormatter:null,tickerLabelFormatter:null,ticker:null,grid:{width:null,color:null},bounds:{min:null,max:null}},y:{show:null,inverted:null,log:null,width:null,label:null,legendValueFormatter:null,tickerValuePreFormatter:null,tickerValuePostFormatter:null,tickerLabelFormatter:null,ticker:null,grid:{width:null,color:null},bounds:{min:null,max:null}}},this.border={style:null,color:null,width:null},this.spinner={show:null,lines:null,length:null,width:null,radius:null,corners:null,rotate:null,direction:null,color:null,speed:null,trail:null,shadow:null,hwaccel:null,position:null,top:null,left:null}},__webpack_exports__.a=Options},function(t,e,i){var o,n;!function(s,a){t.exports?t.exports=a():void 0===(n="function"==typeof(o=a)?o.call(e,i,e,t):o)||(t.exports=n)}(0,(function(){"use strict";function t(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,o){var n=["opacity",e,~~(100*t),i,o].join("-"),s=.01+i/o*100,a=Math.max(1-(1-t)/e*(100-s),t),r=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=r&&"-"+r+"-"||"";return u[n]||(h.insertRule("@"+c+"keyframes "+n+"{0%{opacity:"+a+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",h.cssRules.length),u[n]=1),n}function o(t,e){var i,o,n=t.style;if(void 0!==n[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(o=0;o<c.length;o++)if(void 0!==n[i=c[o]+e])return i}function n(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function s(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function a(t,e){return"string"==typeof t?t:t[e%t.length]}function r(t){this.opts=s(t||{},r.defaults,_)}var l,h,c=["webkit","Moz","ms","O"],u={},_={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(r.defaults={},s(r.prototype,{spin:function(e){this.stop();var i=this,o=i.opts,s=i.el=t(null,{className:o.className});if(n(s,{position:o.position,width:0,zIndex:o.zIndex,left:o.left,top:o.top}),e&&e.insertBefore(s,e.firstChild||null),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!l){var a,r=0,h=(o.lines-1)*(1-o.direction)/2,c=o.fps,u=c/o.speed,_=(1-o.opacity)/(u*o.trail/100),p=u/o.lines;!function t(){r++;for(var e=0;e<o.lines;e++)a=Math.max(1-(r+(o.lines-e)*p)%u*_,o.opacity),i.opacity(s,e*o.direction+h,a,o);i.timeout=i.el&&setTimeout(t,~~(1e3/c))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,s){function r(e,i){return n(t(),{position:"absolute",width:s.scale*(s.length+s.width)+"px",height:s.scale*s.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*c+s.rotate)+"deg) translate("+s.scale*s.radius+"px,0)",borderRadius:(s.corners*s.scale*s.width>>1)+"px"})}for(var h,c=0,u=(s.lines-1)*(1-s.direction)/2;c<s.lines;c++)h=n(t(),{position:"absolute",top:1+~(s.scale*s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:l&&i(s.opacity,s.trail,u+c*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&e(h,n(r("#000","0 0 4px #000"),{top:"2px"})),e(o,e(h,r(a(s.color,c),"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){h=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var p=n(t("group"),{behavior:"url(#default#VML)"});!o(p,"transform")&&p.adj?function(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}h.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(t,o){function s(){return n(i("group",{coordsize:c+" "+c,coordorigin:-h+" "+-h}),{width:c,height:c})}function r(t,r,l){e(_,e(n(s(),{rotation:360/o.lines*t+"deg",left:~~r}),e(n(i("roundrect",{arcsize:o.corners}),{width:h,height:o.scale*o.width,left:o.scale*o.radius,top:-o.scale*o.width>>1,filter:l}),i("fill",{color:a(o.color,t),opacity:o.opacity}),i("stroke",{opacity:0}))))}var l,h=o.scale*(o.length+o.width),c=2*o.scale*h,u=-(o.width+o.length)*o.scale*2+"px",_=n(s(),{position:"absolute",top:u,left:u});if(o.shadow)for(l=1;l<=o.lines;l++)r(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=o.lines;l++)r(l);return e(t,_)},r.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&((n=(n=(n=n.childNodes[e+o])&&n.firstChild)&&n.firstChild)&&(n.opacity=i))}}():l=o(p,"animation")}return r}))},function(t,e,i){"use strict";i.r(e);var o=i(3),n=i.n(o);function s(t,e,i){this._parent=t,this._canvas=document.createElement("canvas"),e&&(this._canvas.id=e),t.append(this._canvas),this._context=this._canvas.getContext("2d"),this._dontScale=i,this._canvas.style.position="absolute",this._canvas.style.margin=0,this._canvas.style.padding=0,this._canvas.style["box-sizing"]="border-box",this.setPosition(0,0),this.setSize("100%","100%")}s.prototype.setParent=function(t){this._canvas.remove(),t&&t.append(this._canvas)},s.prototype.putImageData=function(t,e,i,o,n){this._context.putImageData(t,e*this._ratio+o,i*this._ratio+n)},s.prototype.getCanvas=function(){return this._canvas},s.prototype.getContext=function(){return this._context},s.prototype.getX=function(){return this._x},s.prototype.getY=function(){return this._y},s.prototype.getContentX=function(){return this._contentX},s.prototype.getContentY=function(){return this._contentY},s.prototype.getWidth=function(){return this._canvas.offsetWidth},s.prototype.getHeight=function(){return this._canvas.offsetHeight},s.prototype.getContentWidth=function(){return this._canvas.clientWidth},s.prototype.getContentHeight=function(){return this._canvas.clientHeight},s.prototype.getContentOffsetX=function(){return this._contentOffsetX},s.prototype.getContentOffsetY=function(){return this._contentOffsetY},s.prototype.getTextWidth=function(t,e){return e&&(this._context.font=e),this._context.measureText(t).width},s.prototype.clear=function(){this._dontScale?this._context.clearRect(0,0,this.getContentWidth()*this._ratio,this.getContentHeight()*this._ratio):this._context.clearRect(0,0,this.getContentWidth(),this.getContentHeight())},s.prototype.clearRectangle=function(t,e,i,o){this._dontScale?this._context.clearRect(t*this._ratio,e*this._ratio,i*this._ratio,o*this._ratio):this._context.clearRect(t,e,i,o)},s.prototype.setZIndex=function(t){this._canvas.style["z-index"]=t},s.prototype.set=function(t,e){this._context[t]=e},s.prototype.setBorder=function(t,e,i){this._canvas.style.borderStyle=t,this._canvas.style.borderColor=e,this._canvas.style.borderWidth=i,this._calculateContentPosition()},s.prototype.get=function(t){return this._context[t]},s.prototype.getRatio=function(){return this._ratio},s.prototype.rotate=function(t){this._context.rotate(t*Math.PI/180)},s.prototype.setPosition=function(t,e,i,o){this._x=t,this._y=e,i?(this._canvas.style.left="",this._canvas.style.right=t+"px"):(this._canvas.style.left=t+"px",this._canvas.style.right=""),o?(this._canvas.style.top="",this._canvas.style.bottom=e+"px"):(this._canvas.style.top=e+"px",this._canvas.style.bottom=""),this._calculateContentPosition()},s.prototype.setSize=function(t,e){void 0!==t&&("number"==typeof t&&(t+="px"),this._canvas.style.width=t),void 0!==e&&("number"==typeof e&&(e+="px"),this._canvas.style.height=e),this.resize()},s.prototype.resize=function(){const t=window.devicePixelRatio||1,e=this._context.webkitBackingStorePixelRatio||this._context.mozBackingStorePixelRatio||this._context.msBackingStorePixelRatio||this._context.oBackingStorePixelRatio||this._context.backingStorePixelRatio||1;this._ratio=t/e,this._canvas.width=this.getContentWidth()*this._ratio,this._canvas.height=this.getContentHeight()*this._ratio,this._dontScale||this._context.scale(this._ratio,this._ratio)},s.prototype.strokeRectangle=function(t,e,i,o,n,s){n&&(this._context.lineWidth=n),s&&(this._context.strokeStyle=s),t+=this._context.lineWidth/2,e+=this._context.lineWidth/2,i-=this._context.lineWidth,o-=this._context.lineWidth,this._context.strokeRect(t,e,i,o)},s.prototype.fillRectangle=function(t,e,i,o,n){n&&(this._context.fillStyle=n),this._context.fillRect(t,e,i,o)},s.prototype.fillRectangle2=function(t,e,i,o,n){n&&(this._context.fillStyle=n),this._context.fillRect(t,e,i-t,o-e)},s.prototype.strokeCircle=function(t,e,i,o,n){o&&(this._context.strokeStyle=o),n&&(this._context.lineWidth=n),this._context.beginPath(),this._context.arc(t,e,i,0,2*Math.PI,!1),this._context.stroke()},s.prototype.fillCircle=function(t,e,i,o){o&&(this._context.fillStyle=o),this._context.beginPath(),this._context.arc(t,e,i,0,2*Math.PI,!1),this._context.fill()},s.prototype.line=function(t,e,i,o,n,s){n&&(this._context.lineWidth=n),s&&(this._context.strokeStyle=s),this._context.beginPath(),this._context.moveTo(t,e),this._context.lineTo(i,o),this._context.stroke()},s.prototype.text=function(t,e,i,o,n,s,a,r){o&&(this._context.font=o),n&&(this._context.fillStyle=n),s&&(this._context.textAlign=s),a&&(this._context.textBaseline=a),r?(this._context.save(),this._context.translate(e,i),this._context.rotate(r*Math.PI/180),this._context.fillText(t,0,0),this._context.restore()):this._context.fillText(t,e,i)},s.prototype.graph=function(t,e,i){e&&(this._context.strokeStyle=e),i&&(this._context.lineWidth=i),this._context.beginPath(),this._context.moveTo(t[0][0],t[0][1]);for(let e=1;e<t.length;++e)this._context.lineTo(t[e][0],t[0][1]);this._context.stroke()},s.prototype.fill=function(t){this.fillRectangle(0,0,this.getContentWidth(),this.getContentHeight(),t)},s.prototype.disableMouseInteraction=function(){this._canvas.style["pointer-events"]="none"},s.prototype._calculateContentPosition=function(){const t=getComputedStyle(this._canvas),e=void 0!==this._ratio?this._ratio:1;this._contentOffsetX=Math.round(e*parseFloat(t.getPropertyValue("border-left-width").match(/\d+/))),this._contentOffsetY=Math.round(e*parseFloat(t.getPropertyValue("border-top-width").match(/\d+/))),this._contentX=this._x+this._contentOffsetX,this._contentY=this._y+this._contentOffsetY};var a=s,r=i(1),l=i(0);function h(t,e,i){if("x"===i.toLowerCase())this._isX=!0,this._axis=t.axes.x,this._getSize=e.getContentWidth.bind(e);else{if("y"!==i.toLowerCase())return void console.error('owp.graph ERROR: Axis: "'+i+'" is neither X or Y.');this._isX=!1,this._axis=t.axes.y,this._getSize=e.getContentHeight.bind(e)}this._options=t,this._getRatio=e.getRatio.bind(e)}function c(t){if(t<0)return"-"+c(-t);let e=[];t>=1e3?e=[{divider:1e24,suffix:"Y"},{divider:1e21,suffix:"Z"},{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}]:t<.01&&(e=[{divider:.001,suffix:"m"},{divider:1e-6,suffix:"µ"},{divider:1e-9,suffix:"n"},{divider:1e-12,suffix:"p"},{divider:1e-15,suffix:"f"},{divider:1e-18,suffix:"a"},{divider:1e-21,suffix:"z"},{divider:1e-24,suffix:"y"}]);for(let i=0;i<e.length;i++)if(t>=e[i].divider)return r.a.round(t/e[i].divider,3).toString()+e[i].suffix;return t.toString()}function u(t,e){const i=t?[1,10]:[1,2,5,10],o=Math.floor(g(e));for(let t=0;t<i.length;++t){const n=Math.pow(10,o)*i[t];if(n>=e)return n}}Math.log10||(Math.log10=r.a.log10),h.prototype.hasBounds=function(){return!l.a.isNull(this.getMin())&&!l.a.isNull(this.getMax())},h.prototype.isLog=function(){return this._axis.log},h.prototype.isInverted=function(){return this._axis.inverted},h.prototype.getMin=function(){return this._overrideBounds?this._overrideBounds.min:this._min},h.prototype.getMax=function(){return this._overrideBounds?this._overrideBounds.max:this._max},h.prototype.getAxisLabel=function(){return this._axis.label},h.prototype.getTickLabelsFont=function(){return this._options.axes.tickLabels.size+"px "+this._options.axes.tickLabels.font},h.prototype.getAxisLabelFont=function(){return this._options.axes.labels.size+"px "+this._options.axes.labels.font},h.prototype.getBoundLabelWidth=function(t,e){let i="min"===t?this.getMin():this.getMax();return e&&(i=r.a.round(i+.111111111111111,3)),r.a.getTextWidth(i,this.getTickLabelsFont())},h.prototype.getTicks=function(){return this._ticks},h.prototype.hasOverridenBounds=function(){return void 0!==this._overrideBounds},h.prototype.overrideBounds=function(t){this._overrideBounds=t,this.calculateTicks()},h.prototype.clearOverridenBounds=function(){this.overrideBounds()},h.prototype.calculateBounds=function(){let t,e;if(l.a.isNull(this._axis.bounds.min)||(t=this._axis.bounds.min),l.a.isNull(this._axis.bounds.max)||(e=this._axis.bounds.max),l.a.isNull(t)||l.a.isNull(e)){let i;i=this._isX?this._calculateXBounds():this._calculateYBounds(),i&&(l.a.isNull(t)&&l.a.isNull(e)?(t=i.min,e=i.max,t===e&&(console.warn("owp.graph WARNING: Axis "+(this._isX?"X":"Y")+". bounds.min and bounds.max are equal. Move both."),--t,++e)):l.a.isNull(t)?(t=i.min,t>=e&&(console.warn("owp.graph WARNING: Axis "+(this._isX?"X":"Y")+". bounds.min and bounds.max are equal. Move min."),t=e-1)):l.a.isNull(e)&&(e=i.max,t>=e&&(console.warn("owp.graph WARNING: Axis "+(this._isX?"X":"Y")+". bounds.min and bounds.max are equal. Move max."),e=t+1)))}l.a.isNull(t)||l.a.isNull(e)||this._axis.log&&t<=0&&(console.error("owp.graph ERROR: Axis "+(this._isX?"X":"Y")+". When axis is logarithmic all bounds must be greater than zero."),t=e=void 0),this._min=t,this._max=e},h.prototype.calculateTicks=function(){let t;const e=this._isX?this._options.axes.tickLabels.width:this._options.axes.tickLabels.size;t=this._axis.ticker?this._axis.ticker(this._axis.log,this.getMin(),this.getMax(),this._getSize(),e):this._getDefaultTicks(this._axis.log,this.getMin(),this.getMax(),this._getSize(),e),t.length||console.warn("owp.graph WARNING: Axis "+(this._isX?"X":"Y")+". Ticks list is empty.");for(let e=0;e<t.length;++e)t[e].coordinate=this.valueToPixel(t[e].value);if(this._options.axes.tickMarkers.show&&(t.markers={offset:this._options.axes.tickMarkers.offset,length:this._options.axes.tickMarkers.length,width:this._options.axes.tickMarkers.width,color:this._options.axes.tickMarkers.color}),this._options.axes.tickLabels.show){t.labels={offset:this._options.axes.tickLabels.offset,size:this._options.axes.tickLabels.size,color:this._options.axes.tickLabels.color,font:this.getTickLabelsFont(),width:[]};for(let e=0;e<t.length;++e)t.labels.width[e]=r.a.getTextWidth(t[e].label,this.getTickLabelsFont())}this._axis.grid.width&&(t.grid={width:this._axis.grid.width,color:this._axis.grid.color}),this._ticks=t},h.prototype.pixelToValue=function(t){return this._axis.log?(this._isX?this._axis.inverted:!this._axis.inverted)?Math.pow(10,t/this._getSize()*g(this.getMin()/this.getMax())+g(this.getMax())):Math.pow(10,t/this._getSize()*g(this.getMax()/this.getMin())+g(this.getMin())):(this._isX?this._axis.inverted:!this._axis.inverted)?t/this._getSize()*(this.getMin()-this.getMax())+this.getMax():t/this._getSize()*(this.getMax()-this.getMin())+this.getMin()},h.prototype.valueToPixel=function(t){return this._axis.log?(this._isX?this._axis.inverted:!this._axis.inverted)?g(t/this.getMax())/g(this.getMin()/this.getMax())*this._getSize():g(t/this.getMin())/g(this.getMax()/this.getMin())*this._getSize():(this._isX?this._axis.inverted:!this._axis.inverted)?(t-this.getMax())/(this.getMin()-this.getMax())*this._getSize():(t-this.getMin())/(this.getMax()-this.getMin())*this._getSize()},h.prototype.formatLegendValue=function(t){return this._axis.legendValueFormatter?this._axis.legendValueFormatter(t):r.a.round(t,5)},h.prototype.getValueToPixelCallback=function(){let t,e,i,o,n;const s=this._getSize()*this._getRatio();return(this._isX?this._axis.inverted:!this._axis.inverted)?(i=this.getMax(),e=this._axis.log?g(this.getMin()/this.getMax()):this.getMin()-this.getMax()):(i=this.getMin(),e=this._axis.log?g(this.getMax()/this.getMin()):this.getMax()-this.getMin()),this._axis.log?(o="/",n="Math.log10"):(o="-",n=""),t=i?n+"(value "+o+" "+i+")":n+"(value)",e=1!==e?"/ "+e:"",new Function("value","return "+t+" "+e+" * "+s)},h.prototype._calculateXBounds=function(){if(this._options.graph.dataX.length){this._options.debug&&console.log("owp.graph DEBUG: X-bounds not set, but X-data is. Calculate X-bounds from X-data values.");let t=4294967296,e=-4294967296;for(let i=0;i<this._options.graph.dataX.length;++i){const o=this._options.graph.dataX[i];t=Math.min(t,o[0],o[o.length-1]),e=Math.max(e,o[0],o[o.length-1])}return{min:t,max:e}}if(this._options.graph.dataY.length){this._options.debug&&console.log("owp.graph DEBUG: X-bounds and X-data not set, but Y-data is. Calculate X-bounds from Y-data length.");let t=0;for(let e=0;e<this._options.graph.dataY.length;++e)t=Math.max(t,this._options.graph.dataY[e].length);return{min:1,max:t}}this._options.debug&&console.log("owp.graph DEBUG: X-bounds, X-data and Y-data not set. Can't calculate X-bounds.")},h.prototype._calculateYBounds=function(){if(this._options.graph.dataY.length){this._options.debug&&console.log("owp.graph DEBUG: Y-bounds not set, but Y-data is. Calculate Y-bounds from Y-data values.");let t=null,e=null;for(let i=0;i<this._options.graph.dataY.length;++i){const o=this._options.graph.dataY[i];o.length&&null===t&&(t=4294967296,e=-4294967296);for(let i=0;i<o.length;++i)t=Math.min(t,o[i]),e=Math.max(e,o[i])}return null!==t?{min:t,max:e}:null}this._options.debug&&console.log("owp.graph DEBUG: Y-bounds and Y-data not set. Can't calculate Y-bounds.")},h.prototype._getDefaultTicks=function(t,e,i,o,n){let s;if(this._axis.tickerValuePreFormatter&&(e=this._axis.tickerValuePreFormatter(e),i=this._axis.tickerValuePreFormatter(i)),s=t&&i-e>=4*e?function(t,e){const i=[];let o=u(!0,t);for(;;){for(let t=1;t<10;++t){let n=t*o;if(n>e)return i;n=p(n),i.push({value:n})}o*=10}}(e,i):function(t,e,i,o){const n=u(!1,(e-t)/(i/(1.5*o)));let s=t;const a=(r=s,l=n,r-Math.round(r/l)*l);var r,l;a>0&&(s+=n-a);a<0&&(s-=a);const h=[];for(;s<=e;s+=n)s=p(s),h.push({value:s});return h}(e,i,o,n),this._axis.tickerValuePostFormatter)for(let t=0;t<s.length;++t)s[t].value=this._axis.tickerValuePostFormatter(s[t].value);if(this._axis.tickerLabelFormatter)for(let t=0;t<s.length;++t)s[t].label=this._axis.tickerLabelFormatter(s[t].value);else for(let t=0;t<s.length;++t)s[t].label=c(s[t].value);return s};var _=h;function p(t){return parseFloat(t.toPrecision(15))}const g=r.a.log10;var d=function(t){const e=document.createElement("input");if(t)for(let i in t)e.setAttribute(i,t[i]);function i(){const t=parseInt(e.value);(isNaN(t)||t<0)&&(e.value=0),e.dispatchEvent(new Event("done"))}return e.addEventListener("change",i),e.addEventListener("keypress",t=>{13===t.which&&i()}),e};function f(t){this._graph=t}f.prototype.updateOptions=function(){if(this._graph._options.interaction.resize&&!this._resizeCallback?this._resizeCallback=this._addResizeEvent():!this._graph._options.interaction.resize&&this._resizeCallback&&(window.removeEventListener("resize",this._resizeCallback),this._resizeCallback=void 0),this._graph._options.interaction.trackMouse&&!this._mouseTrackingCallbacks)this._mouseTrackingCallbacks=this._addMouseTrackingEvents();else if(!this._graph._options.interaction.trackMouse&&this._mouseTrackingCallbacks){const t=this._graph._canvas.interaction.getCanvas();t.removeEventListener("mousemove",this._mouseTrackingCallbacks.mousemove),t.removeEventListener("mouseout",this._mouseTrackingCallbacks.mouseout),this._mouseTrackingCallbacks=void 0}if(this._graph._options.interaction.zoom&&!this._zoomCallbacks)this._zoomCallbacks=this._addZoomEvents();else if(!this._graph._options.interaction.zoom&&this._zoomCallbacks){let t=this._graph._canvas.interaction.getCanvas();t.removeEventListener("mousedown",this._zoomCallbacks.mousedown),t.removeEventListener("mousemove",this._zoomCallbacks.mousemove),t.removeEventListener("mouseup",this._zoomCallbacks.mouseup),t.removeEventListener("dblclick",this._zoomCallbacks.dblclick),t=this._graph._canvas.graph.getCanvas(),t.removeEventListener("mouseup",this._zoomCallbacks.mouseup),t=this._graph._canvas.background.getCanvas(),t.removeEventListener("mouseup",this._zoomCallbacks.mouseup),t.removeEventListener("mouseout",this._zoomCallbacks.mouseout),this._zoomCallbacks=void 0}this._graph._options.interaction.smoothing&&!this._smoothingCallback?this._smoothingCallback=this._addSmoothingEvent():!this._graph._options.interaction.smoothing&&this._smoothingCallback&&(this._smoothingInput.removeEventListener("change",this._smoothingCallback),this._smoothingCallback=void 0,this._smoothingInput.remove(),this._smoothingInput=void 0),this._smoothingInput&&(this._smoothingInput.value=this._graph._options.graph.smoothing),this._createInteractionData()},f.prototype.clear=function(){this._graph._canvas.interaction.clear(),this._smoothingInput&&(this._smoothingInput.style.display="none")},f.prototype.render=function(){this._smoothingInput&&(this._smoothingInput.style.display="block")},f.prototype.graphChangedSize=function(t,e,i,o){this._smoothingInput&&(this._smoothingInput.style.top=e+o-21+"px",this._smoothingInput.style.left=t+"px",this._smoothingInput.style.display="block")},f.prototype._addResizeEvent=function(){const t=this._graph,e=this;let i;function o(){t._canvas.background.resize(),t._calculateGraphSize(),t._plot(),i=void 0,e._resizing=!1}let n=this._graph._canvas.background.getWidth(),s=this._graph._canvas.background.getHeight(),a=window.devicePixelRatio;function r(){n===t._canvas.background.getWidth()&&s===t._canvas.background.getHeight()&&a===window.devicePixelRatio||(n=t._canvas.background.getWidth(),s=t._canvas.background.getHeight(),a=window.devicePixelRatio,i||(e._resizing=!0,t._canvas.graph.clear(),t._canvas.highlight.clear(),t._canvas.interaction.clear(),t._renderLegend()),clearTimeout(i),i=setTimeout(o,500))}return window.addEventListener("resize",r),r},f.prototype._addMouseTrackingEvents=function(){const t=this,e=this._graph;function i(i){if(t.mouseDown||t._resizing||!e._axes.x.hasBounds()||i.offsetX<0)return;const o=e._axes.x.pixelToValue(i.offsetX),n=[o];e._canvas.interaction.clear();for(let s=0;s<e._options.graph.dataY.length;++s){const a=e._options.graph.dataY[s];if(!a.length)break;const l=e._options.getDataCallback("x",s),h=r.a.binarySearch(l,a.length,o);let c;if(void 0!==h.found)c=e._options.graph.smoothing?r.a.calculateSmothingValue(h.found,e._options.graph.smoothing,a):a[h.found];else{if(h.min===h.max)break;{const t=l(h.min),i=l(h.max),n=i-t,s=1-(o-t)/n,u=1-(i-o)/n;let _,p;e._options.graph.smoothing?(_=r.a.calculateSmothingValue(h.min,e._options.graph.smoothing,a),p=r.a.calculateSmothingValue(h.max,e._options.graph.smoothing,a)):(_=a[h.min],p=a[h.max]),c=_*s+p*u}}const u=e._axes.y.valueToPixel(c);t._interactionData[s].moveTo(i.offsetX,u),n[s+1]=c}e._renderLegend(n)}function o(){t.mouseDown||(e._canvas.interaction.clear(),e._renderLegend())}const n=this._graph._canvas.interaction.getCanvas();return n.addEventListener("mousemove",i),n.addEventListener("mouseout",o),{mousemove:i,mouseout:o}},f.prototype._addZoomEvents=function(){const t=this._graph,e=this;this.mouseDown=!1;const i=.1*Math.min(t._canvas.interaction.getContentWidth(),t._canvas.interaction.getContentHeight());let o,n,s;const a="rgba(130, 130, 130, 0.2)";let r,l;function h(i){t._axes.x.hasBounds()&&t._axes.y.hasBounds()&&(r=o=i.offsetX,l=n=i.offsetY,e.mouseDown=!0,s=void 0,t._renderLegend())}function c(h){if(e.mouseDown&&(h.offsetX!==r||h.offsetX!==l)){r=h.offsetX,l=h.offsetY;const e=Math.abs(o-h.offsetX),c=Math.abs(n-h.offsetY),u=e>c;(void 0===u||u!==s&&(u?e:c)>i)&&(s=u),t._canvas.interaction.clear(),s?t._canvas.interaction.fillRectangle2(o,0,h.offsetX,t._canvas.interaction.getContentHeight(),a):t._canvas.interaction.fillRectangle2(0,n,t._canvas.interaction.getContentWidth(),h.offsetY,a)}}function u(i){if(e.mouseDown){if(o!==i.offsetX||n!==i.offsetY){if(t._canvas.interaction.clear(),s){const e=x(0,i.offsetX,t._canvas.interaction.getContentWidth()),n=t._axes.x.pixelToValue(Math.min(o,e)),s=t._axes.x.pixelToValue(Math.max(o,e));t._axes.x.overrideBounds({min:n,max:s})}else{const e=x(0,i.offsetY,t._canvas.interaction.getContentHeight()),o=t._axes.y.pixelToValue(Math.max(n,e)),s=t._axes.y.pixelToValue(Math.min(n,e));t._axes.y.overrideBounds({min:o,max:s})}t._plot()}e.mouseDown=!1}}function _(e){e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0),(t._axes.x.hasOverridenBounds()||t._axes.y.hasOverridenBounds())&&(t._axes.x.clearOverridenBounds(),t._axes.y.clearOverridenBounds(),t._plot())}function p(i){e.mouseDown&&i.toElement!==t._canvas.graph.getCanvas()&&i.toElement!==t._canvas.interaction.getCanvas()&&(t._canvas.interaction.clear(),e.mouseDown=!1)}let g=t._canvas.interaction.getCanvas();return g.addEventListener("mousedown",h),g.addEventListener("mousemove",c),g.addEventListener("mouseup",u),g.addEventListener("dblclick",_),g=this._graph._canvas.graph.getCanvas(),g.addEventListener("mouseup",u),g=this._graph._canvas.background.getCanvas(),g.addEventListener("mouseup",u),g.addEventListener("mouseleave",p),{mousedown:h,mousemove:c,mouseup:u,dblclick:_,mouseout:p}},f.prototype._addSmoothingEvent=function(){this._smoothingInput=d({type:"number",tabIndex:-1,maxLength:6,value:0,min:0}),this._smoothingInput.style["z-index"]=5,this._smoothingInput.style.position="absolute",this._smoothingInput.style.width="50px",this._smoothingInput.style.height="21px",this._smoothingInput.style["background-color"]="white",this._smoothingInput.style["border-radius"]=0,this._smoothingInput.style.border="1px solid #ccc",this._smoothingInput.style.color="#555",this._smoothingInput.style.padding="0 0 0 5px",this._smoothingInput.style.display="none",this._smoothingInput.className=((this._smoothingInput.className||"")+" a-graph-smoothing-input").trim(),this._graph._parent.append(this._smoothingInput);const t=this;function e(){let e=parseInt(t._smoothingInput.value),i=4294967296;for(let e=0;e<t._graph._options.graph.dataY.length;++e)i=Math.min(i,t._graph._options.graph.dataY[e].length);2*e+1>i&&(e=Math.floor((i-1)/2)),t._smoothingInput.value=e,t._graph._options.graph.smoothing=e,t._graph._renderGraph()}return this._smoothingInput.addEventListener("done",e),e},f.prototype._createInteractionData=function(){const t=document.createElement("canvas").getContext("2d");this._interactionData=[];for(let e=0;e<this._graph._options.graph.dataY.length;++e){t.clearRect(0,0,6,6),t.beginPath(),t.arc(3,3,3,0,2*Math.PI),t.fillStyle=this._graph._options.graph.colors[e+1],t.fill(),this._graph._options.graph.fill&&(t.beginPath(),t.arc(3,3,3,0,2*Math.PI),t.strokeStyle="#000000",t.stroke());const i=t.getImageData(0,0,6,6),o=this._graph._canvas.interaction;i.moveTo=function(t,e){o.putImageData(this,t,e,-3,-3)},this._interactionData[e]=i}};var v=f;function x(t,e,i){return e<t?t:e>i?i:e}var b=i(2);if(!window.HTMLCanvasElement||!window.CanvasRenderingContext2D)throw Error("owp.graph ERROR: Your browser does not support the HTML5 Canvas.");function m(t,e){if(!(this instanceof m))return new m(t,e);this._init(t,e)}m.prototype._init=function(t,e){t?(t.style.position="relative",this._parent=t,this._options=new b.a,this._highlights=[],this._canvas={background:new a(t,"background"),graph:new a(t,"graph",!0),highlight:new a(t,"highlight"),interaction:new a(t,"interaction")},this._canvas.background.setZIndex(0),this._canvas.graph.setZIndex(1),this._canvas.highlight.setZIndex(2),this._canvas.interaction.setZIndex(4),this._axes={x:new _(this._options,this._canvas.graph,"x"),y:new _(this._options,this._canvas.graph,"y")},this._interaction=new v(this),e?this.setOptions(e):(console.warn("owp.graph WARNING: No options set. Uses default."),this.setOptions({}))):console.error("owp.graph ERROR: Parent dom is null")},m.prototype._initLegend=function(){const t=this._options.legend.location;if(t&&this._options.interaction.trackMouse)if("top"!==t.toLowerCase()&&"right"!==t.toLowerCase()){const e=document.getElementById(t);e?(e.style.position="relative",this._canvas.legend?this._canvas.legend.setParent(e):this._canvas.legend=new a(e)):console.warn('owp.graph WARNING: Legend location: "'+t+'" not found.')}else this._canvas.legend?this._canvas.legend.setParent(this._parent):(this._canvas.legend=new a(this._parent),this._canvas.legend.disableMouseInteraction()),"top"===t.toLowerCase()?this._canvas.legend.setSize("100%",this._options.legend.size):"right"===t.toLowerCase()&&(this._canvas.legend.setPosition(0,0,!0),this._canvas.legend.setSize(200,"100%"));else this._canvas.legend&&(this._canvas.legend.setParent(),this._canvas.legend=void 0)},m.prototype._renderLegend=function(t){if(!this._canvas.legend||!this._options.graph.dataY.length)return;const e=this._options.legend,i=this._canvas.legend;i.clear(),i.set("font",this._options.getLegendFont()),i.set("textBaseline","top"),i.set("textAlign",e.align);const o="top"===e.location.toLowerCase(),n="left"===e.align.toLowerCase(),s=e.newLine&&!o||"right"===e.location.toLowerCase();let a=n?this._options.legend.offsetX:i.getWidth()-this._options.legend.offsetX,r=o?0:this._options.legend.offsetY;function l(t,o,l){const h=o+": "+(void 0!==l?l:"—");i.text(h,a,r,null,t),s?r+=e.size:a+=(i.getTextWidth(h)+10)*(n?1:-1)}if(n||s)for(let e=0;e<=this._options.graph.dataY.length;++e)l(this._options.graph.colors[e],this._options.getName(e),t&&void 0!==t[e]?this._axes.y.formatLegendValue(t[e]):void 0);else for(let e=this._options.graph.dataY.length;e>=0;--e)l(this._options.graph.colors[e],this._options.getName(e),t&&void 0!==t[e]?this._axes.y.formatLegendValue(t[e]):void 0)},m.prototype.getOptions=function(){return this._options},m.prototype.setDefaultOptions=function(){this.setOptions(b.a.getDefault())},m.prototype.setOptions=function(t){this._options.set(t),this._hasCalculatedGraphSize=!1,this._options.isOk()&&(this._axes.x.calculateBounds(),this._axes.y.calculateBounds(),this._interaction.updateOptions(),this._canvas.graph.setBorder(this._options.border.style,this._options.border.color,this._options.border.width),this._initLegend(),this._plot())},m.prototype.setData=function(t,e){const i={graph:{}};t&&(i.graph.dataX=t),e&&(i.graph.dataY=e),this.setOptions(i)},m.prototype.zoom=function(t,e,i,o){this._axes.x.overrideBounds({min:t,max:i}),this._axes.y.overrideBounds({min:e,max:o}),this._plot()},m.prototype.resetZoom=function(){this._axes.x.clearOverridenBounds(),this._axes.y.clearOverridenBounds(),this._plot()},m.prototype.clearHighlight=function(){this._canvas.highlight.clear(),this._highlights=[]},m.prototype.highlight=function(t,e,i,o,n){this._highlights.push({x1:t,y1:e,x2:i,y2:o,color:n||"rgba(0, 0, 255, 0.2)"}),this._axes.x.hasBounds()&&this._axes.y.hasBounds()&&this._renderHighlight()},m.prototype.spin=function(t){t?(this._spinner||(this._spinnerDiv=document.createElement("div"),this._parent.append(this._spinnerDiv),this._spinnerDiv.style.position="absolute",this._spinnerDiv.style["z-index"]=3,this._updateSpinnerSize(),this._spinner=new n.a(this._options.spinner)),this._spinner.isSpinning||(this._spinner.spin(this._spinnerDiv),this._spinner.isSpinning=!0)):this._spinner&&(this._spinner.stop(),this._spinner.isSpinning=!1)},m.prototype._plot=function(){this._options.isOk()?(this._options.debug&&console.time("owp.graph DEBUG: Plot time"),this._hasCalculatedGraphSize||this._calculateGraphSize(),this._canvas.background.clear(),this._canvas.graph.clear(),this._canvas.highlight.clear(),this._interaction.clear(),this._renderTitle(),this._renderAxesLabels(),this._axes.x.hasBounds()&&this._axes.y.hasBounds()?(this._renderXAxis(),this._renderYAxis(),this._renderHighlight(),this._options.graph.dataY.length?(this._renderLegend(),this._renderGraph(),this._interaction.render()):this._options.debug&&console.log("owp.graph DEBUG: No data set available. Plotting available features.")):this._options.debug&&console.log("owp.graph DEBUG: No bounds or data set available. Plotting available features."),this._options.debug&&console.timeEnd("owp.graph DEBUG: Plot time")):console.error("owp.graph ERROR: Can't plot: Invalid options.")},m.prototype._updateSpinnerSize=function(){this._spinnerDiv&&(this._spinnerDiv.style.left=this._canvas.graph.getContentX()+"px",this._spinnerDiv.style.top=this._canvas.graph.getContentY()+"px",this._spinnerDiv.style.width=this._canvas.graph.getContentWidth()+"px",this._spinnerDiv.style.height=this._canvas.graph.getContentHeight()+"px")},m.prototype._calculateGraphSize=function(){let t=this._getOffset(["left"]),e=this._getOffset(["top"]),i=this._canvas.background.getWidth()-this._getOffset(["left","right"]),o=this._canvas.background.getHeight()-this._getOffset(["top","bottom"]);this._canvas.graph.setPosition(t,e),this._canvas.graph.setSize(i,o),t=this._canvas.graph.getContentX(),e=this._canvas.graph.getContentY(),i=this._canvas.graph.getContentWidth(),o=this._canvas.graph.getContentHeight(),this._canvas.highlight.setPosition(t,e),this._canvas.highlight.setSize(i,o),this._canvas.interaction.setPosition(t,e),this._canvas.interaction.setSize(i,o),this._canvas.legend&&("top"===this._options.legend.location.toLowerCase()?(this._canvas.legend.setPosition(t,e-this._canvas.legend.getHeight()-this._options.legend.offsetY),this._canvas.legend.setSize(i,this._options.legend.size)):"right"===this._options.legend.location.toLowerCase()&&(this._canvas.legend.setPosition(0,e,!0),this._canvas.legend.setSize(200,o))),this._interaction.graphChangedSize(t,e,i,o),this._updateSpinnerSize(),this._axes.x.hasBounds()&&this._axes.y.hasBounds()&&(this._axes.x.calculateTicks(),this._axes.y.calculateTicks()),this._hasCalculatedGraphSize=!0},m.prototype._renderXAxis=function(){if(!this._options.axes.x.show)return;const t=this._axes.x.getTicks();let e,i;for(let o=0;o<t.length;++o){let n=this._canvas.graph.getContentX()+t[o].coordinate,s=this._canvas.graph.getY()+this._canvas.graph.getHeight();t.markers&&(s+=t.markers.offset,this._canvas.background.line(n,s,n,s+t.markers.length,t.markers.width,t.markers.color),s+=t.markers.length),t.grid&&n>1.01*this._canvas.graph.getContentX()&&n<.99*(this._canvas.graph.getContentX()+this._canvas.graph.getContentWidth())&&this._canvas.background.line(n,this._canvas.graph.getContentY(),n,this._canvas.graph.getContentY()+this._canvas.graph.getContentHeight(),t.grid.width,t.grid.color),t.labels&&(!e||Math.abs(n-e)>i+t.labels.width[o]/2)&&(s+=t.labels.offset,this._canvas.background.text(t[o].label,n,s,t.labels.font,t.labels.color,"center","hanging"),e=n,i=t.labels.width[o])}},m.prototype._renderYAxis=function(){if(!this._options.axes.y.show)return;const t=this._axes.y.getTicks();let e;for(let i=0;i<t.length;++i){let o=this._canvas.graph.getX(),n=this._canvas.graph.getContentY()+t[i].coordinate;t.markers&&(o-=t.markers.offset,this._canvas.background.line(o,n,o-t.markers.length,n,t.markers.width,t.markers.color),o-=t.markers.length),t.grid&&n>1.01*this._canvas.graph.getContentY()&&n<.99*(this._canvas.graph.getContentY()+this._canvas.graph.getContentHeight())&&this._canvas.background.line(this._canvas.graph.getContentX(),n,this._canvas.graph.getContentX()+this._canvas.graph.getContentWidth(),n,t.grid.width,t.grid.color),t.labels&&(!e||Math.abs(n-e)>t.labels.size)&&(o-=t.labels.offset,this._canvas.background.text(t[i].label,o,n,t.labels.font,t.labels.color,"right","middle"),e=n)}},m.prototype._renderAxesLabels=function(){if(this._options.axes.x.show&&this._options.axes.x.label.length){const t=this._canvas.graph.getContentX()+this._canvas.graph.getContentWidth()/2,e=this._canvas.background.getHeight()-this._options.axes.labels.offset;this._canvas.background.text(this._axes.x.getAxisLabel(),t,e,this._axes.x.getAxisLabelFont(),this._options.axes.labels.color,"center","bottom")}if(this._options.axes.y.show&&this._options.axes.y.label.length){const t=this._options.axes.labels.offset,e=this._canvas.graph.getContentY()+this._canvas.graph.getContentHeight()/2;this._canvas.background.text(this._axes.y.getAxisLabel(),t,e,this._axes.y.getAxisLabelFont(),this._options.axes.labels.color,"center","hanging",-90)}},m.prototype._renderTitle=function(){if(!this._options.title.label.length)return;let t;"left"===this._options.title.align.toLowerCase()?t=this._canvas.graph.getContentX()+this._options.title.offsetX:"center"===this._options.title.align.toLowerCase()?t=this._canvas.graph.getContentX()+this._canvas.graph.getContentWidth()/2+this._options.title.offsetX:"right"===this._options.title.align.toLowerCase()&&(t=this._canvas.graph.getContentX()+this._canvas.graph.getContentWidth()-this._options.title.offsetX);const e=this._options.title.offsetY,i=(this._options.title.bold?"bold ":"")+this._options.title.size+"px "+this._options.title.font;this._canvas.background.text(this._options.title.label,t,e,i,this._options.title.color,this._options.title.align,"top")},m.prototype._renderHighlight=function(){this._canvas.highlight.clear();for(let t=0;t<this._highlights.length;++t){let e,i,o,n;e=l.a.isNull(this._highlights[t].x1)?0:this._axes.x.valueToPixel(this._highlights[t].x1),i=l.a.isNull(this._highlights[t].y1)?0:this._axes.y.valueToPixel(this._highlights[t].y1),o=l.a.isNull(this._highlights[t].x2)?this._canvas.graph.getContentWidth():this._axes.x.valueToPixel(this._highlights[t].x2),n=l.a.isNull(this._highlights[t].y2)?this._canvas.graph.getContentHeight():this._axes.y.valueToPixel(this._highlights[t].y2),this._canvas.highlight.fillRectangle2(e,i,o,n,this._highlights[t].color)}},m.prototype._renderGraph=function(){this._options.debug&&this._options.graph.smoothing>1&&console.log("owp.graph DEBUG: Smoothed rendering: "+this._options.graph.smoothing),this._options.debug&&this._options.graph.simplify&&console.log("owp.graph DEBUG: Simplify rendering: "+this._options.graph.simplify),this._canvas.graph.clear();const t=this._axes.x.getValueToPixelCallback(),e=this._axes.y.getValueToPixelCallback(),i=this._axes.x.getMin(),o=this._axes.x.getMax(),n=this._canvas.graph.getContext();n.lineWidth=this._options.graph.lineWidth,n.globalCompositeOperation=this._options.graph.compositeOperation;for(let s=0;s<this._options.graph.dataY.length;++s){const a=this._options.getDataCallback("x",s),l=this._options.graph.dataY[s].length,h=r.a.binarySearch(a,l,i),c=r.a.binarySearch(a,l,o);let u=void 0!==h.found?h.found:h.min,_=void 0!==c.found?c.found:c.max;const p=this._options.getDataCallback("y",s,u);if(n.beginPath(),this._options.graph.simplify){const i=this._options.graph.simplify;let o,s,r=t(a(u)),l=p(u),h=l;for(++u;u<=_;++u)o=t(a(u)),Math.abs(r-o)<=i?(s=p(u),l=Math.min(l,s),h=Math.max(h,s)):(n.lineTo(r,e(l)),l!==h&&n.lineTo(r,e(h)),r=o,l=p(u),h=l);n.lineTo(r,e(l)),l!==h&&n.lineTo(r,e(h))}else for(;u<=_;++u)n.lineTo(t(a(u)),e(p(u)));this._options.graph.fill?(this._options.axes.x.inverted?(n.lineTo(0,this._canvas.graph.getContentHeight()),n.lineTo(this._canvas.graph.getContentWidth(),this._canvas.graph.getContentHeight())):(n.lineTo(this._canvas.graph.getContentWidth()*this._canvas.graph.getRatio(),this._canvas.graph.getContentHeight()*this._canvas.graph.getRatio()),n.lineTo(0,this._canvas.graph.getContentHeight()*this._canvas.graph.getRatio())),n.closePath(),n.fillStyle=this._options.getColor(s+1),n.fill()):(n.strokeStyle=this._options.getColor(s+1),n.stroke())}},m.prototype._getOffset=function(t){let e=0;for(let i=0;i<t.length;++i)switch(t[i]){case"top":this._options.title.label.length&&(e+=this._options.title.size,e+=this._options.title.offsetY,e+=this._options.title.padding),this._canvas.legend&&"top"===this._options.legend.location.toLowerCase()?e+=this._canvas.legend.getHeight()+this._options.legend.offsetY:this._options.axes.y.show&&this._options.axes.tickLabels.show&&(e+=this._options.axes.tickLabels.size/2);break;case"bottom":this._options.axes.x.show?(this._options.axes.x.label.length&&(e+=this._options.axes.labels.size,e+=this._options.axes.labels.offset,e+=this._options.axes.labels.padding),this._options.axes.x.height?e+=this._options.axes.x.height:(this._options.axes.tickLabels.show&&(e+=this._options.axes.tickLabels.size,e+=this._options.axes.tickLabels.offset),this._options.axes.tickMarkers.show&&(e+=this._options.axes.tickMarkers.length,e+=this._options.axes.tickMarkers.offset))):this._options.axes.y.show&&this._options.axes.tickLabels.show&&(e+=this._options.axes.tickLabels.size/2);break;case"left":if(this._options.axes.y.show)if(this._options.axes.y.label.length&&(e+=this._options.axes.labels.size,e+=this._options.axes.labels.offset,e+=this._options.axes.labels.padding),this._options.axes.y.width)e+=this._options.axes.y.width;else{if(this._options.axes.tickLabels.show){const t=this._axes.y.getBoundLabelWidth("min",!0),i=this._axes.y.getBoundLabelWidth("max",!0);e+=Math.max(t,i),e+=this._options.axes.tickLabels.offset}this._options.axes.tickMarkers.show&&(e+=this._options.axes.tickMarkers.length,e+=this._options.axes.tickMarkers.offset)}else this._options.axes.x.show&&this._options.axes.tickLabels.show&&(e+=this._axes.x.getBoundLabelWidth("min",!0));break;case"right":if(this._canvas.legend&&"right"===this._options.legend.location.toLowerCase())e+=this._canvas.legend.getWidth();else{const t=20;let i=0;this._options.axes.x.show&&this._axes.x.hasBounds()&&this._options.axes.tickLabels.show&&(i=this._axes.x.getBoundLabelWidth("max",!0)/2),e+=Math.max(t,i)}}return Math.round(e)},m.createDummyData=r.a.createDummyData,m.getDefaultOptions=b.a.getDefault;e.default=m}])}));
//# sourceMappingURL=owp.graph.min.js.map